<div class="card">
  <div class="title-card">
    <span>RESTABLECER</span>
  </div>
  <form #resetPasswordForm="ngForm">
    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput [value]="data.email" disabled />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Token</mat-label>
      <input matInput type="text" ngModel name="tokenInput" #tokenInput="ngModel" required />
      @if(tokenInput.hasError("required") && tokenInput.touched){
      <mat-error>El token es requerido</mat-error>
      }
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Contraseña</mat-label>
      <input
        matInput
        type="password"
        ngModel
        name="passwordInput"
        #passwordInput="ngModel"
        autocomplete="new-password"
        required
        minlength="8"
        pattern="^(?=.*[0-9])(?=.*[A-Z])[a-zA-Z0-9.!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]+$"
      />
      @if(passwordInput.hasError("required")){
      <mat-error>La contraseña es obligatoria </mat-error>
      } @if(passwordInput.hasError("minlength")){
      <mat-error>La contraseña debe tener al menos 8 caracteres </mat-error>
      } @if(passwordInput.hasError("pattern")){
      <mat-error>La contraseña debe tener al menos un dígito numérico y una letra mayúscula</mat-error>
      }
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Confirmar contraseña</mat-label>
      <input
        matInput
        type="password"
        ngModel
        name="confirmPasswordInput"
        #confirmPasswordInput="ngModel"
        autocomplete="new-password"
        required
        minlength="8"
        pattern="^(?=.*[0-9])(?=.*[A-Z])[a-zA-Z0-9.!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]+$"
      />
      @if(confirmPasswordInput.hasError("required")){
      <mat-error>La confirmación es obligatoria </mat-error>
      } @if(confirmPasswordInput.hasError("minlength")){
      <mat-error>La confirmación debe tener al menos 8 caracteres </mat-error>
      } @if(confirmPasswordInput.hasError("pattern")){
      <mat-error>La confirmación debe tener al menos un dígito numérico y  una letra mayúscula</mat-error>
      }
    </mat-form-field>
    <button
      mat-flat-button
      type="button"
      class="primary"
      [disabled]="resetPasswordForm.invalid"
      (click)="ResetPassword(resetPasswordForm)"
    >
      RESTABLECER
    </button>
  </form>
</div>
